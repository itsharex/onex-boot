# 安全规范
系统整体的安全规范以[等保2.0](https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=BAFB47E8874764186BDB7865E8344DAF)作为目标,在系统应用层面做防护。

## 信息化系统安全相关概念
### 等级保护
等级保护是指对国家重要信息、法人和其他组织及公民的专有信息以及公开信息和存储、传输、处理这些信息的信息系统分等级实行安全保护，对信息系统中使用的信息安全产品实行按等级管理，对信息系统中发生的信息安全事件分等级响应、处置。
根据[信息安全技术 网络安全等级保护定级指南GB/T 22240-2020](https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=63B89FFF7CC97EBBBED8A403396F0F00),据系统遭到破坏后对国家安全、社会秩序、公共利益以及公民、法人和其他组织的合法权益的危害程度等，由低到高一共5个等级。
- 第一级，等级保护对象受到破坏后，会对相关公民、法人和其他组织的合法权益造成损害，但不危害国家安全、社会秩序和公共利益；
- 第二级，等级保护对象受到破坏后，会对相关公民、法人和其他组织的合法权益造成严重损害或特别严重损害，或者对社会秩序和公共利益造成危害，但不危害国家安全；
- 第三级，等级保护对象受到破坏后，会对社会秩序和公共利益造成严重危害，或者对国家安全 造成危害；
- 第四级，等级保护对象受到破坏后，会对社会秩序和公共利益造成特别严重危害，或者对国家 安全造成严重危害； 
- 第五级，等级保护对象受到破坏后，会对国家安全造成特别严重危害。

信息化系统，特别是政府和国企相关的系统，等保是一个绕不过去的内容，相关的信息化部门都会有所要求。
等级保护定级，是评定专家根据上述内容做定级，一般常见的是第二级和第三级，也就是常说等保二级和等保三级。 具体评定和评测可以看[【网络安全】什么是“等保2.0”？看完这十个问题你就明白了](https://mp.weixin.qq.com/s?__biz=MzA5MTIwMzAxMw==&mid=2652436730&idx=1&sn=89475d10e396b84eb6059a647ed08dbd&chksm=8b93ac50bce42546a8f2e17ecef0cf72a1960f8f5d8763675175463140120514ac552c3e06d2&scene=27)
要求主要分为配套制度和技术要求，技术要求又分为物理、网络、应用和数据等层面，系统只从应用和数据层面做安全规范约束 。

*等保的评定工作一般会有评测公司(付费)协助完成，按评测公司的要求准备材料和完成系统安全问题处理即可，不需过多担心*

### 漏洞扫描和安全报告
信息化系统，在生产环境部署后，信息化部门经常会利用漏洞扫描软件(如明鉴)做系统的漏洞扫描，并出具安全报告。
按照安全报告的内容和要求做整改即可，一般漏洞会出在操作系统、数据库、各种中间件、应用三方包的CVE，系统的防火墙等安全策略，尽量避免被发现系统应用层面人为逻辑漏洞引起安全问题。
应对措施，事前及时检查操作系统、数据库、各种中间件的安全漏洞，及时更新版本或者打补丁，对安全策略做严格控制；事后根据报告及时按要求整改。

### 安全通报
除了自主的漏洞安全扫描外，部分城市的网信办等部门也会对互联网上暴露的系统做安全漏洞扫描，被发现后会给系统持有人发送网络安全预警通报，要求做整改。

## 常见的安全问题及解决办法
### 安全策略层面
* 敏感端口的暴露
描述：将3306、3389等敏感且不应该直接暴露的端口直接暴露在互联网上
解决办法：在防火墙上加上策略，禁止访问或者只允许白名单IP做访问

### 应用层面
* 敏感信息明文传输
描述：对于密码、个人身份信息(身份证号)、交易信息等敏感数据，在前后端交互过程中，直接传输了。
解决办法：不建议明文传输，原先的要求是传输加上ssl(也就是使用https协议)可算符合，后续也陆续提高要求不再允许。将敏感信息用AES等对称加密方法做加密，可以针对敏感信息单独加密，也可以将整个请求做加密。注意建议用AES，md5是不允许的。

* 弱密码
描述：用户密码

* 验证码复用
描述：在用户提交验证码过程中，比如登录过程，请求提交后没有及时将验证码置为失效
解决办法：无论验证码是否正确，单次提交后都应该将验证码状态重置为失效，同时页面上做验证码的刷新操作。

* 暴力穷举账号
描述：